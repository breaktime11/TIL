# [Python] 리스트와 집합

# 1. 리스트란?

> 리스트는 가장 자유로운 **선형 자료구조**이다.
>
> - 파이썬 리스트 : 스마트한 배열
> - 배열 / 연결 리스트 : 자료구조를 구현하는 방법들

리스트 또는 선형 리스트(linear list)는 항목들이 차례대로 나열되어있는 선형 자료구조이다. 항목들은 순서대로 나열되어있고 특정한 위치를 가진다.

따라서 특정한 위치에서 항목의 삽입이나 삭제가 가능하다.

<br>

## 리스트와 집합의 차이

- 집합 : 원소의 **중복**을 허용하지 않고, 원소들 사이에 **순서**가 없다.
- 리스트 : 원소들 사이에 **중복**이 허용되고, **순서**가 있다.

<br>

## 배열(array) 구조와 연결된(linked) 구조

- **배열 구조**는 모든 항목들이 메모리에서 *연속적인 공간*에 위치한다.
  - 배열 항목에 접근하기 위해 인덱스 연산자`[]`를 이용한다.
  - 항목의 주소, 크기만 알면 k번째 항목을 바로 찾아갈 수 있다.
  - 시간 복잡도 : **O(1)**
- **연결된 구조**는 모든 항목들이 *링크*를 이용해 *다음 항목의 위치*만을 알고 있다.
  - 배열과 달리 항목들이 인접해 있지 않아 시작 항목부터 줄을 따라 k-1번 움직여야 k번째 항목을 찾을 수 있다.
  - 시간 복잡도 : **O(k)**
- **연결 리스트 (Linked list)**는 연결된 구조 중에서 자료들을 일렬로 나열할 수 있는 구조를 뜻한다.

<br>

<br>

# 2. 파이썬 리스트

```python
# 배열 선언
A = [1, 2, 3, 4, 5]

# 배열 크기
len(A)

# 배열 추가
A.append(6) 		# A [1, 2, 3, 4, 5, 6]
A.insert(0, 0)		# A [0, 1, 2, 3, 4, 5, 6]
```

- 파이썬 리스트는 **동적 배열**로 구현되었다.
- 동적 배열 : 추가적인 공간이 필요하면 기존의 메모리를 모두 버리고 더 큰 새로운 메모리를 할당해 사용하는 것
- 파이썬 리스트는 동적 배열로 구현되어있어 편리하지만, **메모리 낭비**를 감수해야한다.
  - 추가로 삽입할 메모리를 준비하고 있어야 하기 때문
- 튜플은 용량 변경이 불가능하므로 메모리 측면에서 더 효율적이다.

<br>

## 파이썬 리스트의 시간 복잡도

> 파이썬 리스트의 자체적인 연산 시간 복잡도(append(), insert(), pop())를 알아보자.
>
> <br>
>
> 후단 삽입, 삭제는 효율적이지만 중간 또는 전단에 대한 삽입과 삭제는 비효율적이다.
>
> 따라서 가능한 한 **삽입**은 A.**append()**를, **삭제**는 A.**pop(-1)**을 사용하는 것이 좋다!
>
> - 음수 인덱스 -1은 리스트 맨 마지막 항목의 인덱스이다.
>   - `-1`  == `len(A)-1`
> - len은 파이썬 내장 함수이다.
>   - 내장 함수들은 외부 모듈과 달리 import가 불필요하고 바로 사용 가능하다.

### append()

- 시간 복잡도 : **O(1)**
- 만약 새로운 배열을 할당해야한다면 시간복잡도 : O(n)

<br>

### insert()

- 시간 복잡도 : **O(n)**
- 맨 앞쪽에 삽입하고자 하면 모든 항목들을 모두 한 칸씩 뒤로 이딩시킨 후 0번째 항목에 값을 복사해야한다.
- 파이썬 리스트의 후단 삽입은 효율적이지만 *중간, 전단 삽입*은 항목의 이동이 발생해 *비효율적*이다.

<br>

### pop()

- 시간 복잡도 : **O(n)**
- 첫 번째 항목을 삭제하고자 하면 맨 앞의 항목을 삭제하고 이후 모든 항목들을 한 칸씩 앞으로 당겨야한다.

<br>

<br>

## 파이썬 리스트 구현

```python
items = []

def insert(pos, elem):  # 삽입 연산
    items.insert(pos, elem)

def delete(pos):        # 삭제 연산
    return items.pop(pos)

def getEntry(pos):      # 항목 접근 연산
    return items[pos]

def isEmpty():          # 공백 상태 검사
    return items.len == 0

def size():             # 리스트의 크기
    return len(items)

def clear():            # 리스트 초기화
    global items
    items = []

def display(msg='ArrayList: '): print(msg, size(), items)
def fnd(item): return items.index(item)
def replace(pos, elem): items[pos] = elem
def sort(): items.sort()
def merge(lst): items.extend(lst)
```

- `global items` : items를 그냥 쓰면 함수 내에서 지역변수로 인식한다. 따라서 전역변수임을 `global`을 이용해 선언해야한다.

<br>

### 시간 복잡도

- 삽입과 삭제
  - 최선 : O(1)
  - 최악, 평균적 : O(n)
- getEntry
  - 배열 이용시 : O(1)
  - 연결된 구조 : O(n)

<br>

